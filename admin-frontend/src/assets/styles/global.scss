// ================================================
// Hugo Teek Admin - Global Styles
// ================================================

@import './variables.scss';
@import './mixins.scss';

// ============================================
// Google Fonts 导入
// ============================================

@import url('https://fonts.googleapis.com/css2?family=Fira+Sans:wght@300;400;500;600;700&family=Fira+Code:wght@400;500;600;700&display=swap');

// ============================================
// CSS Reset & Base Styles
// ============================================

*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html {
  font-size: 16px;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;

  // Smooth scroll
  scroll-behavior: smooth;

  // Disable smooth scroll for reduced motion preference
  @include reduced-motion {
    scroll-behavior: auto;
  }
}

body {
  font-family: $font-sans;
  font-size: $text-base;
  font-weight: $font-normal;
  line-height: $leading-normal;
  color: $text-primary;
  background-color: $bg-primary;
  -webkit-tap-highlight-color: transparent;
}

// ============================================
// Typography
// ============================================

h1, h2, h3, h4, h5, h6 {
  font-weight: $font-semibold;
  line-height: $leading-tight;
  color: $text-primary;
  margin: 0;
}

h1 {
  font-size: $text-4xl;
}

h2 {
  font-size: $text-3xl;
}

h3 {
  font-size: $text-2xl;
}

h4 {
  font-size: $text-xl;
}

h5 {
  font-size: $text-lg;
}

h6 {
  font-size: $text-base;
}

p {
  margin: 0;
  line-height: $leading-relaxed;
}

a {
  color: $primary;
  text-decoration: none;
  transition: $transition-colors;

  &:hover {
    color: $primary-dark;
  }

  &:focus-visible {
    @include focus-visible;
  }
}

code {
  font-family: $font-mono;
  font-size: 0.9em;
  background-color: $bg-secondary;
  padding: 0.125rem 0.375rem;
  border-radius: $radius-sm;
  color: $text-primary;
}

// ============================================
// 全局滚动条样式
// ============================================

* {
  @include scrollbar(8px, $border-default, transparent);
}

// ============================================
// Focus Visible (仅键盘导航显示)
// ============================================

*:focus {
  outline: none;
}

*:focus-visible {
  @include focus-visible;
}

// ============================================
// 通用工具类
// ============================================

// 文本对齐
.text-left {
  text-align: left;
}

.text-center {
  text-align: center;
}

.text-right {
  text-align: right;
}

// 文本颜色
.text-primary {
  color: $text-primary;
}

.text-secondary {
  color: $text-secondary;
}

.text-muted {
  color: $text-muted;
}

// 文本大小
.text-xs {
  font-size: $text-xs;
}

.text-sm {
  font-size: $text-sm;
}

.text-base {
  font-size: $text-base;
}

.text-lg {
  font-size: $text-lg;
}

.text-xl {
  font-size: $text-xl;
}

// 文本省略
.text-ellipsis {
  @include text-ellipsis;
}

.line-clamp-2 {
  @include line-clamp(2);
}

.line-clamp-3 {
  @include line-clamp(3);
}

// Flex 工具类
.flex {
  display: flex;
}

.flex-center {
  @include flex-center;
}

.flex-between {
  @include flex-between;
}

.flex-start {
  @include flex-start;
}

.flex-column {
  @include flex-column;
}

// 游标
.cursor-pointer {
  cursor: pointer;
}

.cursor-not-allowed {
  cursor: not-allowed;
}

// ============================================
// 页面过渡动画
// ============================================

.fade-enter-active,
.fade-leave-active {
  transition: opacity $transition-base $ease-out;

  @include reduced-motion {
    transition: none;
  }
}

.fade-enter-from,
.fade-leave-to {
  opacity: 0;
}

// Fade Slide 组合过渡
.page-enter-active,
.page-leave-active {
  transition: opacity $transition-base $ease-out,
              transform $transition-base $ease-out;

  @include reduced-motion {
    transition: opacity $transition-base $ease-out;
    transform: none !important;
  }
}

.page-enter-from {
  opacity: 0;
  transform: translateX(20px);
}

.page-leave-to {
  opacity: 0;
  transform: translateX(-20px);
}

// ============================================
// 加载状态占位符 (骨架屏)
// ============================================

@keyframes skeleton-loading {
  0% {
    background-position: 200% 0;
  }
  100% {
    background-position: -200% 0;
  }
}

.skeleton {
  background: linear-gradient(
    90deg,
    $bg-secondary 0%,
    lighten($bg-secondary, 2%) 50%,
    $bg-secondary 100%
  );
  background-size: 200% 100%;
  animation: skeleton-loading 1.5s ease-in-out infinite;
  border-radius: $radius-md;

  @include reduced-motion {
    animation: none;
    background: $bg-secondary;
  }
}

// ============================================
// 响应式可见性工具
// ============================================

.mobile-only {
  display: block;

  @include md {
    display: none;
  }
}

.desktop-only {
  display: none;

  @include md {
    display: block;
  }
}

// ============================================
// 卡片样式
// ============================================

.card-soft {
  @include card-soft;

  &.hoverable {
    @include card-soft-hover;
    cursor: pointer;
  }
}

// ============================================
// 辅助功能
// ============================================

.sr-only {
  @include sr-only;
}

// ============================================
// 打印样式
// ============================================

@media print {
  * {
    box-shadow: none !important;
    text-shadow: none !important;
  }

  body {
    background: white;
    color: black;
  }
}
