// ================================================
// VitePress å®¹å™¨æ ·å¼ - ç°ä»£å¡ç‰‡è®¾è®¡
// ================================================
// æ”¯æŒ 5 ç§å®¹å™¨ç±»å‹:
// - info: ä¿¡æ¯æç¤º (è“è‰²)
// - tip: æŠ€å·§æç¤º (ç»¿è‰²)
// - warning: è­¦å‘Šæç¤º (æ©™è‰²)
// - danger: å±é™©æç¤º (çº¢è‰²)
// - details: æŠ˜å è¯¦æƒ… (ç°è‰²)
// ================================================

/* ==================== åŸºç¡€å®¹å™¨æ ·å¼ ==================== */
.vp-container {
  margin: 1.2em 0;
  padding: var(--editor-spacing-md);
  padding-left: calc(var(--editor-spacing-md) + 32px); // ä¸ºEmojié¢„ç•™ç©ºé—´
  border-radius: var(--editor-radius-md);
  border-left: 4px solid;
  position: relative;
  transition: all var(--editor-transition-base);
  box-shadow: var(--editor-shadow-sm);

  // å·¦ä¸Šè§’Emojiå›¾æ ‡
  &::before {
    position: absolute;
    top: var(--editor-spacing-md);
    left: var(--editor-spacing-md);
    font-size: 20px;
    line-height: 1;
  }

  // æ‚¬åœæ•ˆæœ
  &:hover {
    box-shadow: var(--editor-shadow-md);
    transform: translateY(-1px);
  }

  // å†…å®¹åŒºåŸŸ
  .vp-container-content {
    color: inherit;

    > *:first-child {
      margin-top: 0;
    }

    > *:last-child {
      margin-bottom: 0;
    }
  }

  // æ ‡é¢˜ï¼ˆå¯é€‰ï¼‰
  .vp-container-title {
    font-weight: 600;
    font-size: 0.95em;
    margin-bottom: var(--editor-spacing-sm);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    display: flex;
    align-items: center;
    gap: var(--editor-spacing-xs);
  }

  // æ®µè½é—´è·ä¼˜åŒ–
  p {
    margin: 0.6em 0;
    line-height: 1.7;
  }

  // åˆ—è¡¨æ ·å¼
  ul, ol {
    margin: 0.6em 0;
    padding-left: 1.5em;
  }

  // ä»£ç å—æ ·å¼
  code:not(.hljs) {
    background: rgba(0, 0, 0, 0.05);
    border-color: rgba(0, 0, 0, 0.1);
  }
}

/* ==================== Info å®¹å™¨ (è“è‰²ä¿¡æ¯æç¤º) ==================== */
.vp-container.info {
  background: var(--vp-info-bg);
  border-color: var(--vp-info-border);
  color: var(--vp-info-text);

  &::before {
    content: 'â„¹ï¸';
  }

  .vp-container-title {
    color: var(--vp-info-title);
  }

  a {
    color: var(--vp-info-border);

    &:hover {
      color: var(--vp-info-title);
    }
  }
}

/* ==================== Tip å®¹å™¨ (ç»¿è‰²æŠ€å·§æç¤º) ==================== */
.vp-container.tip {
  background: var(--vp-tip-bg);
  border-color: var(--vp-tip-border);
  color: var(--vp-tip-text);

  &::before {
    content: 'ğŸ’¡';
  }

  .vp-container-title {
    color: var(--vp-tip-title);
  }

  a {
    color: var(--vp-tip-border);

    &:hover {
      color: var(--vp-tip-title);
    }
  }
}

/* ==================== Warning å®¹å™¨ (æ©™è‰²è­¦å‘Šæç¤º) ==================== */
.vp-container.warning {
  background: var(--vp-warning-bg);
  border-color: var(--vp-warning-border);
  color: var(--vp-warning-text);

  &::before {
    content: 'âš ï¸';
  }

  .vp-container-title {
    color: var(--vp-warning-title);
  }

  a {
    color: var(--vp-warning-border);

    &:hover {
      color: var(--vp-warning-title);
    }
  }
}

/* ==================== Danger å®¹å™¨ (çº¢è‰²å±é™©æç¤º) ==================== */
.vp-container.danger {
  background: var(--vp-danger-bg);
  border-color: var(--vp-danger-border);
  color: var(--vp-danger-text);

  &::before {
    content: 'ğŸš¨';
  }

  .vp-container-title {
    color: var(--vp-danger-title);
  }

  a {
    color: var(--vp-danger-border);

    &:hover {
      color: var(--vp-danger-title);
    }
  }
}

/* ==================== Details å®¹å™¨ (æŠ˜å è¯¦æƒ…) ==================== */
.vp-container.details {
  background: var(--vp-details-bg);
  border-color: var(--vp-details-border);
  color: var(--vp-details-text);

  &::before {
    content: 'ğŸ“‹';
  }

  .vp-container-title {
    color: var(--vp-details-title);
    cursor: pointer;
    user-select: none;
    display: flex;
    align-items: center;
    gap: var(--editor-spacing-xs);
    transition: color var(--editor-transition-fast);

    // æŠ˜å ç®­å¤´
    &::after {
      content: 'â–¶';
      font-size: 0.8em;
      transition: transform var(--editor-transition-base);
      display: inline-block;
    }

    &:hover {
      color: var(--editor-link);
    }
  }

  // é»˜è®¤æŠ˜å çŠ¶æ€
  &.collapsed {
    .vp-container-content {
      display: none;
    }

    .vp-container-title::after {
      transform: rotate(0deg);
    }
  }

  // å±•å¼€çŠ¶æ€
  &.open {
    .vp-container-content {
      display: block;
      animation: slideDown var(--editor-transition-base) ease-out;
    }

    .vp-container-title {
      margin-bottom: var(--editor-spacing-sm);
      padding-bottom: var(--editor-spacing-sm);
      border-bottom: 1px solid var(--vp-details-border);

      &::after {
        transform: rotate(90deg);
      }
    }
  }

  a {
    color: var(--editor-link);

    &:hover {
      color: var(--editor-link-hover);
    }
  }
}

/* ==================== åµŒå¥—å®¹å™¨ä¼˜åŒ– ==================== */
.vp-container {
  .vp-container {
    margin: 0.8em 0;
    box-shadow: none;
    border-left-width: 3px;

    &::before {
      font-size: 16px;
      top: calc(var(--editor-spacing-md) - 2px);
    }

    &:hover {
      box-shadow: var(--editor-shadow-sm);
      transform: none;
    }
  }
}

/* ==================== ç¼–è¾‘åŒºåŸŸä¸­çš„å®¹å™¨ ==================== */
.vditor-ir .vp-container {
  // åœ¨IRæ¨¡å¼ä¸‹ä¹Ÿä¿æŒå®Œæ•´æ ·å¼
  display: block;

  // ç¡®ä¿å†…éƒ¨Markdownæ­£ç¡®æ¸²æŸ“
  .vp-container-content {
    > p, > ul, > ol, > blockquote, > pre {
      margin: 0.6em 0;
    }
  }
}

/* ==================== é¢„è§ˆåŒºåŸŸä¸­çš„å®¹å™¨ ==================== */
.vditor-preview__content .vp-container {
  // é¢„è§ˆæ¨¡å¼ä¸‹çš„å¾®è°ƒ
  font-size: inherit;

  // ç¡®ä¿å®¹å™¨å†…å…ƒç´ é—´è·åˆç†
  .vp-container-content {
    > p:first-child {
      margin-top: 0;
    }

    > p:last-child {
      margin-bottom: 0;
    }
  }
}

/* ==================== å®¹å™¨å†…ä»£ç å—æ ·å¼ä¼˜åŒ– ==================== */
.vp-container {
  pre {
    margin: 0.8em 0;
    background: rgba(255, 255, 255, 0.5);
    border: 1px solid rgba(0, 0, 0, 0.1);
  }

  blockquote {
    margin: 0.8em 0;
    background: rgba(0, 0, 0, 0.02);
    border-left-color: rgba(0, 0, 0, 0.2);
  }
}

/* ==================== æ‰“å°æ ·å¼ä¼˜åŒ– ==================== */
@media print {
  .vp-container {
    page-break-inside: avoid;
    box-shadow: none;
    border: 1px solid #ddd;

    &:hover {
      transform: none;
    }

    &.details.collapsed .vp-container-content {
      display: block;
    }

    &.details .vp-container-title::after {
      display: none;
    }
  }
}
