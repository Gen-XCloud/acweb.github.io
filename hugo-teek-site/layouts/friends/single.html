{{ define "main" }}
<article class="post-single friend-links-page">
<div class="my-links-container">

  <!-- é¡µé¢ä¸»æ ‡é¢˜åŒºåŸŸ -->
  <div class="my-links-title">
    <h1>{{ .Title | default "æˆ‘çš„å‹é“¾" }}</h1>
  </div>

  <!-- Banner æ¨ªå¹…åŒºåŸŸ -->
  <div class="flink-banner" id="banners">
    <!-- å·¦ä¸Šè§’å°æ ‡é¢˜ -->
    <div class="icon-heartbeat1 banners-small-title">
      {{ .Site.Params.friendPage.smallTitle | default "ä¸å„ä½åšä¸»ä¸€èµ·æˆé•¿è¿›æ­¥" }}
    </div>

    <!-- å³ä¸Šè§’åŠŸèƒ½æŒ‰é’®ç»„ -->
    <div class="banner-button-group">
      <!-- éšæœºè®¿é—®æŒ‰é’® -->
      <button class="banner-button secondary" onclick="window.friendLinksPage.randomVisit()" aria-label="éšæœºè®¿é—®å‹é“¾">
        <i class="icon-paper-plane" style="font-size: 18px;"></i>
        <span class="banner-button-text">éšæœºè®¿é—®</span>
      </button>

      <!-- ç”³è¯·å‹é“¾æŒ‰é’® -->
      <a class="banner-button primary" href="#post-comment" aria-label="ç”³è¯·å‹é“¾">
        <i class="icon-link" style="font-size: 18px;"></i>
        <span class="banner-button-text">ç”³è¯·å‹é“¾</span>
      </a>
    </div>

    <!-- ä¸¤è¡Œå¤´åƒæ¨ªå‘æ— é™æ»šåŠ¨åŒºåŸŸï¼ˆé”™ä½æ’åˆ—ï¼‰+ æ˜Ÿçˆ†æ•ˆæœå®¹å™¨ -->
    <div class="tags-group-all">
      <!-- æ˜Ÿçˆ†æ•ˆæœå®¹å™¨ -->
      <div class="global-stars" id="starsContainer">
        {{ range $i := seq 6 }}
        <svg class="star-item gstar-{{ $i }}" viewBox="0 0 24 24">
          <path d="M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z" />
        </svg>
        {{ end }}
      </div>

      <div class="tags-group-wrapper">
        <!-- æ”¶é›†æ‰€æœ‰å‹é“¾ç”¨äºå¤´åƒæ»šåŠ¨ -->
        {{ $allLinks := slice }}
        {{ range .Site.Data.friendLinks.links }}
          {{ range .list }}
            {{ $allLinks = $allLinks | append . }}
          {{ end }}
        {{ end }}

        <!-- å°†å¤´åƒåˆ†æˆä¸¤è¡Œ -->
        {{ $mid := div (len $allLinks) 2 | add 1 }}
        {{ $row1 := first $mid $allLinks }}
        {{ $row2 := after $mid $allLinks }}

        <!-- ç¬¬ä¸€è¡Œï¼ˆå¤åˆ¶ä¸¤ä»½å®ç°æ— ç¼æ»šåŠ¨ï¼‰ -->
        <div class="tags-group-row">
          <div class="tags-group-content">
            {{ range $row1 }}
              <a href="{{ .url }}" class="tags-group-icon" target="_blank"
                 title="{{ .name }}" data-name="{{ .name }}" rel="external nofollow noopener">
                <img src="{{ .avatar }}" alt="{{ .name }}" loading="eager"
                     {{ if .irregular }}class="irregular"{{ end }}>
                <div class="avatar-overlay">
                  <span class="avatar-text">{{ .name }}</span>
                </div>
              </a>
            {{ end }}
            {{ range $row1 }}
              <a href="{{ .url }}" class="tags-group-icon" target="_blank"
                 title="{{ .name }}" data-name="{{ .name }}" rel="external nofollow noopener">
                <img src="{{ .avatar }}" alt="{{ .name }}" loading="eager"
                     {{ if .irregular }}class="irregular"{{ end }}>
                <div class="avatar-overlay">
                  <span class="avatar-text">{{ .name }}</span>
                </div>
              </a>
            {{ end }}
          </div>
        </div>

        <!-- ç¬¬äºŒè¡Œï¼ˆå¸¦é”™ä½ï¼Œå¤åˆ¶ä¸¤ä»½å®ç°æ— ç¼æ»šåŠ¨ï¼‰ -->
        <div class="tags-group-row offset-start">
          <div class="tags-group-content">
            {{ range $row2 }}
              <a href="{{ .url }}" class="tags-group-icon" target="_blank"
                 title="{{ .name }}" data-name="{{ .name }}" rel="external nofollow noopener">
                <img src="{{ .avatar }}" alt="{{ .name }}" loading="eager"
                     {{ if .irregular }}class="irregular"{{ end }}>
                <div class="avatar-overlay">
                  <span class="avatar-text">{{ .name }}</span>
                </div>
              </a>
            {{ end }}
            {{ range $row2 }}
              <a href="{{ .url }}" class="tags-group-icon" target="_blank"
                 title="{{ .name }}" data-name="{{ .name }}" rel="external nofollow noopener">
                <img src="{{ .avatar }}" alt="{{ .name }}" loading="eager"
                     {{ if .irregular }}class="irregular"{{ end }}>
                <div class="avatar-overlay">
                  <span class="avatar-text">{{ .name }}</span>
                </div>
              </a>
            {{ end }}
          </div>
        </div>
      </div>

    </div>
  </div>

  <!-- å‹é“¾åˆ†ç»„åˆ—è¡¨ï¼Œæ¯ä¸ªåˆ†ç»„åŒ…å«æ ‡é¢˜ã€æè¿°å’Œå‹é“¾åˆ—è¡¨ -->
  {{ range .Site.Data.friendLinks.links }}
  <div class="my-links-group">
    <!-- åˆ†ç»„æ ‡é¢˜å®¹å™¨ -->
    <div class="title-wrapper">
      <h3>{{ .title }}</h3>
    </div>

    <!-- åˆ†ç»„æè¿°æ–‡æœ¬ -->
    {{ if .desc }}
    <p class="group-desc">{{ .desc }}</p>
    {{ end }}

    <!-- å‹é“¾åˆ—è¡¨å®¹å™¨ -->
    <div class="links-grid">
      <!-- æ¯ä¸ªå‹é“¾é¡¹ä½¿ç”¨å¡ç‰‡å±•ç¤º -->
      {{ range .list }}
      <div class="links-grid__item">
        <div class="link-item-card" data-card>
          <!-- æ ‡ç­¾ -->
          {{ if .badge }}
          <div class="link-tag">{{ .badge }}</div>
          {{ end }}

          <a href="{{ .url }}" title="{{ .name }}" target="_blank" rel="noopener">
            <!-- å¤´åƒ -->
            <div class="link-avatar">
              <img src="{{ .avatar }}" alt="{{ .name }}"
                   {{ if .irregular }}class="irregular"{{ end }}>
            </div>

            <!-- ä¿¡æ¯ -->
            <div class="link-content">
              <div class="link-name">{{ .name }}</div>
              <div class="link-desc" title="{{ .description }}">
                {{ .description }}
              </div>
            </div>
          </a>
        </div>
      </div>
      {{ end }}
    </div>
  </div>
  {{ end }}

  <!-- ç•™è¨€/è¯„è®ºåŒºåŸŸ -->
  <div class="my-message-section" id="post-comment">
    <div class="title-wrapper">
      <h3>ç”³è¯·å‹é“¾</h3>
    </div>
    <p>æƒ³è¦å’Œæˆ‘äº¤æ¢å‹é“¾ï¼Ÿè¯·åœ¨è¯„è®ºåŒºæŒ‰ä»¥ä¸‹æ ¼å¼ç•™è¨€ ğŸ’</p>

    <!-- ç•™è¨€å¡ç‰‡å®¹å™¨ -->
    <div class="message-card">
      <!-- å¤åˆ¶æŒ‰é’®åŒºåŸŸ -->
      <div class="copy-button-container">
        <button class="copy-button" onclick="window.friendLinksPage.copyMessageFormat()" aria-label="å¤åˆ¶æ ¼å¼">
          <i class="icon-copy" style="font-size: 16px;"></i>
          <span class="copy-button-text">å¤åˆ¶æ ¼å¼</span>
        </button>
      </div>

      <p>ç•™è¨€æ ¼å¼ï¼š</p>
      <!-- ç¤ºä¾‹æ ¼å¼ -->
      <pre id="messageFormat">åç§°: ä½™æ¸©Gueen
é“¾æ¥: https://wiki.xxdevops.cn/
å¤´åƒ: https://img.xxdevops.cn/blog/avatar/yuwen_avatar.avif
æè¿°: æ˜å¿ƒé™æ€§ï¼Œçˆ±è‡ªå·±</pre>
    </div>
  </div>

</div>

{{ if .Site.Params.comment.enabled }}
<div class="post-comment">
  {{ partial "comment.html" . }}
</div>
{{ end }}
</article>
{{ end }}
