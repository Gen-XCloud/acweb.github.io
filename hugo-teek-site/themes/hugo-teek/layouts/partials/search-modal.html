<!-- 搜索模态框 -->
<div class="tk-search-modal" id="search-modal" style="display: none;" role="dialog" aria-modal="true" aria-labelledby="search-modal-title">
  <div class="tk-search-overlay" id="search-overlay"></div>
  <div class="tk-search-dialog">
    <div class="tk-search-container">
      <!-- 隐藏的模态框标题，用于辅助功能 -->
      <h2 id="search-modal-title" class="sr-only">搜索文档</h2>

      <!-- 搜索输入框 -->
      <div class="tk-search-input-wrapper" role="search">
        <svg class="tk-search-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2"/>
          <path d="m21 21-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
        <input
          type="text"
          class="tk-search-input"
          id="search-modal-input"
          placeholder="搜索文档"
          autocomplete="off"
          spellcheck="false"
          aria-label="搜索文档"
          role="searchbox">
      </div>

      <!-- 搜索结果/历史区域 -->
      <div class="tk-search-content" id="search-content" role="region" aria-live="polite">
        <!-- 搜索历史（默认显示） -->
        <div class="tk-search-history" id="search-history" style="display: none;" role="region" aria-label="搜索历史">
          <div class="tk-search-history-header">最近搜索</div>
          <div class="tk-search-history-list" id="search-history-list" role="list">
            <!-- 动态生成历史记录 -->
          </div>
        </div>

        <!-- 空状态 -->
        <div class="tk-search-empty" id="search-empty">
          <svg class="tk-search-empty-icon" width="48" height="48" viewBox="0 0 24 24" fill="none">
            <path d="M12 2v20M2 12h20" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
          <p class="tk-search-empty-text">没有搜索历史</p>
        </div>

        <!-- 搜索结果列表 -->
        <div class="tk-search-results" id="search-results" style="display: none;" role="region" aria-label="搜索结果">
          <div class="tk-search-results-list" id="search-results-list" role="list">
            <!-- 动态生成搜索结果 -->
          </div>
        </div>

        <!-- 加载状态 -->
        <div class="tk-search-loading" id="search-loading" style="display: none;">
          <div class="tk-search-loading-spinner"></div>
          <p>搜索引擎加载中...</p>
        </div>

        <!-- 无结果 -->
        <div class="tk-search-no-results" id="search-no-results" style="display: none;">
          <svg class="tk-search-empty-icon" width="48" height="48" viewBox="0 0 24 24" fill="none">
            <circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2"/>
            <path d="m21 21-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
          <p class="tk-search-empty-text">没有找到相关结果</p>
        </div>
      </div>

      <!-- 底部快捷键提示 -->
      <div class="tk-search-footer">
        <div class="tk-search-shortcuts">
          <span class="tk-search-shortcut">
            <kbd>↩</kbd>
            <span>选择</span>
          </span>
          <span class="tk-search-shortcut">
            <kbd>↓</kbd>
            <span>切换</span>
          </span>
          <span class="tk-search-shortcut">
            <kbd>esc</kbd>
            <span>关闭</span>
          </span>
        </div>
        <div class="tk-search-provider">
          <span>搜索提供商</span>
          <a href="https://github.com/nextapps-de/flexsearch" target="_blank" rel="noopener noreferrer" class="tk-search-flexsearch-link">
            <svg width="90" height="19" viewBox="0 0 90 19" fill="none">
              <text x="0" y="15" font-family="Arial, sans-serif" font-size="14" fill="currentColor" font-weight="500">FlexSearch</text>
            </svg>
          </a>
        </div>
      </div>
    </div>
  </div>
</div>
