<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>è§†å£å°ºå¯¸æµ‹è¯• - Viewport Test</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      padding: 20px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      color: white;
    }

    .container {
      max-width: 600px;
      margin: 0 auto;
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    }

    h1 {
      font-size: 24px;
      margin-bottom: 20px;
      text-align: center;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    }

    .info-group {
      background: rgba(255, 255, 255, 0.15);
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 15px;
    }

    .info-group h2 {
      font-size: 18px;
      margin-bottom: 15px;
      color: #ffd700;
      text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    }

    .info-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 0;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .info-item:last-child {
      border-bottom: none;
    }

    .info-label {
      font-weight: 500;
      opacity: 0.9;
    }

    .info-value {
      font-weight: 700;
      font-size: 18px;
      background: rgba(255, 255, 255, 0.2);
      padding: 5px 12px;
      border-radius: 8px;
    }

    .highlight {
      background: linear-gradient(90deg, #ff6b6b, #ffd93d);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      font-size: 28px;
      font-weight: 900;
    }

    .media-query-status {
      margin-top: 10px;
      padding: 8px 12px;
      border-radius: 8px;
      font-size: 14px;
      text-align: center;
      font-weight: 600;
    }

    .mq-active {
      background: rgba(76, 217, 100, 0.3);
      border: 2px solid #4cd964;
    }

    .mq-inactive {
      background: rgba(255, 59, 48, 0.3);
      border: 2px solid #ff3b30;
    }

    .refresh-btn {
      display: block;
      width: 100%;
      padding: 15px;
      margin-top: 20px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      border-radius: 12px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      transition: transform 0.2s;
    }

    .refresh-btn:active {
      transform: scale(0.98);
    }

    .warning {
      background: rgba(255, 149, 0, 0.2);
      border: 2px solid #ff9500;
      border-radius: 12px;
      padding: 15px;
      margin-bottom: 15px;
      font-size: 14px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ“± è§†å£å°ºå¯¸æµ‹è¯•</h1>

    <div class="warning" id="warning" style="display: none;">
      âš ï¸ æ£€æµ‹åˆ°è§†å£å®½åº¦åœ¨ 769px - 960px ä¹‹é—´ï¼Œå¯èƒ½å—åˆ° 100vw é—®é¢˜å½±å“ï¼
    </div>

    <div class="info-group">
      <h2>ğŸ” è§†å£å°ºå¯¸ï¼ˆCSS åƒç´ ï¼‰</h2>
      <div class="info-item">
        <span class="info-label">è§†å£å®½åº¦</span>
        <span class="info-value highlight" id="viewport-width">-</span>
      </div>
      <div class="info-item">
        <span class="info-label">è§†å£é«˜åº¦</span>
        <span class="info-value" id="viewport-height">-</span>
      </div>
    </div>

    <div class="info-group">
      <h2>ğŸ“º å±å¹•å°ºå¯¸</h2>
      <div class="info-item">
        <span class="info-label">å±å¹•å®½åº¦</span>
        <span class="info-value" id="screen-width">-</span>
      </div>
      <div class="info-item">
        <span class="info-label">å±å¹•é«˜åº¦</span>
        <span class="info-value" id="screen-height">-</span>
      </div>
      <div class="info-item">
        <span class="info-label">è®¾å¤‡åƒç´ æ¯”</span>
        <span class="info-value" id="device-pixel-ratio">-</span>
      </div>
    </div>

    <div class="info-group">
      <h2>ğŸ“ å®é™…ç‰©ç†åˆ†è¾¨ç‡</h2>
      <div class="info-item">
        <span class="info-label">ç‰©ç†å®½åº¦</span>
        <span class="info-value" id="physical-width">-</span>
      </div>
      <div class="info-item">
        <span class="info-label">ç‰©ç†é«˜åº¦</span>
        <span class="info-value" id="physical-height">-</span>
      </div>
    </div>

    <div class="info-group">
      <h2>ğŸ¯ åª’ä½“æŸ¥è¯¢çŠ¶æ€</h2>
      <div class="info-item">
        <span class="info-label">â‰¤ 360px</span>
        <div class="media-query-status" id="mq-360">æ£€æµ‹ä¸­...</div>
      </div>
      <div class="info-item">
        <span class="info-label">â‰¤ 768px</span>
        <div class="media-query-status" id="mq-768">æ£€æµ‹ä¸­...</div>
      </div>
      <div class="info-item">
        <span class="info-label">â‰¤ 960px</span>
        <div class="media-query-status" id="mq-960">æ£€æµ‹ä¸­...</div>
      </div>
    </div>

    <div class="info-group">
      <h2>ğŸŒ æµè§ˆå™¨ä¿¡æ¯</h2>
      <div class="info-item">
        <span class="info-label">User Agent</span>
      </div>
      <div style="font-size: 12px; opacity: 0.8; word-break: break-all; margin-top: 10px;" id="user-agent">-</div>
    </div>

    <button class="refresh-btn" onclick="updateInfo()">ğŸ”„ åˆ·æ–°æ•°æ®</button>
  </div>

  <script>
    function updateInfo() {
      // è§†å£å°ºå¯¸
      const vpWidth = window.innerWidth;
      const vpHeight = window.innerHeight;
      document.getElementById('viewport-width').textContent = vpWidth + 'px';
      document.getElementById('viewport-height').textContent = vpHeight + 'px';

      // å±å¹•å°ºå¯¸
      document.getElementById('screen-width').textContent = screen.width + 'px';
      document.getElementById('screen-height').textContent = screen.height + 'px';

      // è®¾å¤‡åƒç´ æ¯”
      const dpr = window.devicePixelRatio || 1;
      document.getElementById('device-pixel-ratio').textContent = dpr.toFixed(2) + 'x';

      // ç‰©ç†åˆ†è¾¨ç‡
      document.getElementById('physical-width').textContent = Math.round(vpWidth * dpr) + 'px';
      document.getElementById('physical-height').textContent = Math.round(vpHeight * dpr) + 'px';

      // User Agent
      document.getElementById('user-agent').textContent = navigator.userAgent;

      // åª’ä½“æŸ¥è¯¢æ£€æµ‹
      const mq360 = window.matchMedia('(max-width: 360px)').matches;
      const mq768 = window.matchMedia('(max-width: 768px)').matches;
      const mq960 = window.matchMedia('(max-width: 960px)').matches;

      updateMediaQueryStatus('mq-360', mq360);
      updateMediaQueryStatus('mq-768', mq768);
      updateMediaQueryStatus('mq-960', mq960);

      // æ£€æµ‹æ˜¯å¦åœ¨é—®é¢˜åŒºé—´
      if (vpWidth > 768 && vpWidth <= 960) {
        document.getElementById('warning').style.display = 'block';
      } else {
        document.getElementById('warning').style.display = 'none';
      }
    }

    function updateMediaQueryStatus(id, isActive) {
      const element = document.getElementById(id);
      if (isActive) {
        element.textContent = 'âœ… å·²æ¿€æ´»';
        element.className = 'media-query-status mq-active';
      } else {
        element.textContent = 'âŒ æœªæ¿€æ´»';
        element.className = 'media-query-status mq-inactive';
      }
    }

    // åˆå§‹åŠ è½½
    updateInfo();

    // ç›‘å¬çª—å£å¤§å°å˜åŒ–ï¼ˆæ¨ªç«–å±åˆ‡æ¢ç­‰ï¼‰
    window.addEventListener('resize', updateInfo);
    window.addEventListener('orientationchange', function() {
      setTimeout(updateInfo, 100);
    });
  </script>
</body>
</html>
